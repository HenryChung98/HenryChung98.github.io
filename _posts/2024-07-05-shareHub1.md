---
layout: single
title: "Share Hub Project_1"
categories: project
tags: [django]
author_profile: false
search: true
use_math: true
---

### Setup

```zsh
mkdir share-hub
cd share-hub
pyenv virtualenv 3.7.13 django_shareHub_env
pip3 install django==2.2
pyenv local django_shareHub_env
django-admin startproject shareHub_project
cd shareHub_project
python manage.py startapp shareHub
```

```python
# settings.py

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'shareHub',
]
```

### Create User Model

```python
from django.db import models
from django.contrib.auth.models import AbstractUser

class User(AbstractUser):
    pass
```

Additionally, for an user model, you need to add 'AUTH_USER_MODEL = "[app-name].User'" to settings.py at very bottom.

```python
# settings.py

AUTH_USER_MODEL = 'shareHub.User'
```

### Register Model to Admin Page

```python
# admin.py

from django.contrib import admin
from .models import User
from django.contrib.auth.admin import UserAdmin

admin.site.register(User, UserAdmin)
```

UserAdmin includes all necessary fields and functionalities, like handling permissions and user information.

#### Create Super User
```zsh
python manage.py createsuperuser
# type your info
```

### Django-allauth

There are several things to install.

[more info about installation](https://docs.allauth.org/en/latest/installation/quickstart.html)

```python
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'shareHub',

    # need to install
    'allauth',
    'allauth.account',
    'allauth.socialaccount',
]

.
.
.

AUTH_USER_MODEL = 'shareHub.User'

AUTHENTICATION_BACKENDS = [
    # Needed to login by username in Django admin, regardless of `allauth`
    'django.contrib.auth.backends.ModelBackend',

    # `allauth` specific authentication methods, such as login by email
    'allauth.account.auth_backends.AuthenticationBackend',
]
```

and add url patterns.

```python
# urls.py
urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include("allauth.urls")),
]
```
Now login page is added. If you go to localhost:8000/login,

![des1](/assets/images/2024-07-05-shareHub1/des1.png)

and migrate it.

```zsh
python manage.py makemigrations
python manage.py migrate
```