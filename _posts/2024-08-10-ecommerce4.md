---
layout: single
title: "E-Commerce Website Project_3"
categories: project
tags: [django]
author_profile: false
search: true
use_math: true
---

{% raw %}
### Handle Items in Cart
I made three buttons for adding item, removing item, deleting all items.

```html
<a href="{% url 'increase-quantity' item.item.id %}"><button>+</button></a>
<a href="{% url 'decrease-quantity' item.item.id %}"><button>-</button></a>
<a href="{% url 'remove-item' item.item.id %}"><button>x</button></a>
```

And the functions be like
```python
# views.py

@login_required
def increase_quantity(request, item_id):
    cart = get_object_or_404(Cart, user=request.user)
    cart_item = get_object_or_404(CartItem, cart=cart, item_id=item_id)
    cart_item.quantity += 1
    cart_item.save()
    return redirect('cart-list')

@login_required
def decrease_quantity(request, item_id):
    cart = get_object_or_404(Cart, user=request.user)
    cart_item = get_object_or_404(CartItem, cart=cart, item_id=item_id)
    if cart_item.quantity > 1:
        cart_item.quantity -= 1
        cart_item.save()
    else:
        cart_item.delete()
    return redirect('cart-list')

@login_required
def remove_item(request, item_id):
    cart = get_object_or_404(Cart, user=request.user)
    cart_item = get_object_or_404(CartItem, cart=cart, item_id=item_id)
    cart_item.delete()
    return redirect('cart-list')
```

![des1](/assets/images/2024-08-10-ecommerce4/des1.png)


{% endraw %}